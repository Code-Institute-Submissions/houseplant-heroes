{% extends "base.html" %}{% block heading %}Plants{% endblock %} {% block
hero_img_content %} {% endblock %} {% block content %}

<div class="row">
  {% for plant_post in all_plants %}
  <div class="col s12 m4">
    <div class="card">
      <div class="card-image waves-effect waves-block waves-light">
        <img class="activator" src="{{ plant_post.plant_image_url }}" />
      </div>
      <div class="card-content">
        <span class="card-title activator grey-text text-darken-4"
          >{{ plant_post.plant_botanical_name }}
          <i class="fas fa-ellipsis-v right"></i>
        </span>
        <p>{{ plant_post.plant_nickname }}</p>
        <p>
          <a href="{{ url_for('plant_profile', plant_post_id=plant_post._id) }}"
            >LINK TO FULL POST</a
          >
        </p>
        {% if session.user|lower == plant_post.posted_by|lower %}
        <!-- edit plant post -->
        <a href="{{ url_for('edit_plant', plant_post_id=plant_post._id) }}"
          ><i class="far fa-edit grey-text small"></i
        ></a>
        <!-- delete plant post -->
        <a href="#delete-modal" class="modal-trigger"
          ><i class="far fa-trash-alt grey-text small"></i
        ></a>
        {% endif %}
        <!-- delete modal Structure -->
        <div id="delete-modal" class="modal">
          <div class="modal-content">
            <h4>
              Are you sure want to delete {{ plant_post.plant_botanical_name }}?
            </h4>
          </div>
          <div class="modal-footer">
            <a
              href="{{ url_for('delete_plant', plant_post_id=plant_post._id) }}"
              class="modal-close waves-effect waves-green btn-flat"
              >Yes, delete</a
            >
            <button class="modal-close waves-effect waves-green btn-flat">
              No, keep
            </button>
          </div>
        </div>
      </div>
      <div class="card-reveal">
        <span class="card-title grey-text text-darken-4"
          >{{ plant_post.plant_botanical_name }}
          <i class="fas fa-times right"></i>
        </span>
        <p>{{ plant_post.plant_description }}<br /></p>
        <p>
          Maintenance level: <i>{{ plant_post.maintenance_level }}</i><br />
        </p>
        <p>Posted by: <i>{{ plant_post.posted_by }}</i><br /></p>
      </div>
    </div>
  </div>
  {% endfor %}
</div>
{% endblock %}
